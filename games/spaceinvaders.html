<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>Space Invaders - Elephantonian</title>
		<!--CSS for Bootstrap CDN: this will import all of the bootstrap styles-->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link rel="icon" href="../static/logo.png">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
		<link rel="stylesheet" href="custom.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<style>
			html, body {
				height: 100%;
				width: 100%;
				margin: 0;
				padding: 0;
				background-color: navy;
			}
			
			.game-container {
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: calc(80vh);
				padding: 0px;
			}
			
			#canvas {
				border: 2px solid white;
				max-width: 100%;
				height: auto;
				transform: scale(0.85);
				transform-origin: center;
			}
		</style>
	</head>

	<body>
		<div id="navbar"></div>
		<div class="game-container">
			<canvas id="canvas" width="1000" height="625"></canvas>
		</div>

		
		<div class="container mt-3 text-center">
			<button type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#gameDirectionsModal">
				Game Directions
			</button>
		</div>

		<!-- Game Directions Modal -->
		<div class="modal fade" id="gameDirectionsModal" tabindex="-1" role="dialog" aria-labelledby="gameDirectionsModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content bg-dark text-white">
					<div class="modal-header">
						<h5 class="modal-title text-center" id="gameDirectionsModalLabel">
								Space Invaders - Game Guide
						</h5>
						<button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-md-6">
								<h5>Objective:</h5>
								<ul>
									<li>Destroy all alien invaders before they reach the bottom</li>
									<li>Score points by shooting different types of aliens</li>
									<li>Watch out for special UFOs that appear occasionally</li>
									<li>Survive as many waves as possible</li>
								</ul>
								
								<h5>Controls:</h5>
								<ul>
									<li><strong>Arrow Keys:</strong> Move your ship left and right</li>
									<li><strong>Spacebar:</strong> Fire bullets at the aliens</li>
									<li><strong>Enter:</strong> Start game or restart after game over</li>
									<li><strong>P or Escape:</strong> Pause/unpause the game</li>
								</ul>
							</div>
							<div class="col-md-6">
								<h5>Statistics Explained:</h5>
								<ul>
									<li><strong>Top 3 High Scores:</strong> The highest scores achieved by all players</li>
									<li><strong>Highest Wave:</strong> The maximum wave level reached in any game</li>
									<li><strong>Most UFOs Shot:</strong> The highest number of special UFOs destroyed in a single game</li>
									<li><strong>Highest Accuracy:</strong> The best shooting accuracy percentage (minimum 3200 points required)</li>
								</ul>
								
								<h5>Scoring System:</h5>
								<ul>
									<li><strong>Bottom Aliens:</strong> 10 points each</li>
									<li><strong>Middle Aliens:</strong> 20 points each</li>
									<li><strong>Top Aliens:</strong> 40 points each</li>
									<li><strong>Special UFOs:</strong> 150 points each</li>
									<li><strong>Wave Bonus:</strong> 750 points per completed wave</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>

		
		<script>
			const canvas = document.getElementById("canvas");
			const ctx = canvas.getContext("2d");

			const alienImg1 = new Image();
			const alienImg2 = new Image();
			const alienImg3 = new Image();
			const alienImg4 = new Image();
			alienImg1.src = "https://i.ibb.co/HTVFDXz3/Screenshot-2025-06-24-at-10-44-26-AM.png"; // type 1
			alienImg2.src = "https://i.ibb.co/ccH8hjPc/Screenshot-2025-06-24-at-10-44-34-AM.png";
			alienImg3.src = "https://i.ibb.co/tjDqmdj/Screenshot-2025-06-24-at-10-44-49-AM.png";
			alienImg4.src = "https://i.ibb.co/XZNsnX84/Screenshot-2025-06-24-at-10-52-17-AM.png";

			const fireRate = 500; // the lower it is, the faster the firerate
			let alienFireRate = 50000;
			let alienSpeed = 1;

			let aliens = [];
			let bullets = [];
			const ship = {
				x: 450,
				y: 550,
				width: 100,
				height: 25,
				deathTime: 0
			};

			let specialAlien = false;
			let lastSpecialAlienSpawn = Date.now();
			let specialAlienCooldown = Math.floor(Math.random() * 10000) + 10000;

			let leftMoving = false;
			let rightMoving = false;
			let fireTime = 0;

			let enemyBullets = [];
			let gameState = "start"; // 'start' | 'playing' | 'paused' | 'over'
			let lives = 3;

			let score = 0;
			let wave = 1;
			let specialAliensShot = 0;
			let totalAliensShot = 0;
			let totalBulletsShot = 0;

			let highScores = null;
			let maxWave = null;
			let maxSpecialAliensShot = null;
			let maxAccuracy = null;
			let dataLoaded = false;

			let lastUpdatedRecords = Date.now();

			function initialize() {
				aliens = [];
				bullets = [];

				alienFireRate = 50000;
				alienSpeed = 1;

				specialAlien = false;
				lastSpecialAlienSpawn = Date.now();
				specialAlienCooldown = Math.floor(Math.random() * 20000) + 20000;

				ship.x = 450;
				ship.y = 550;
				leftMoving = false;
				rightMoving = false;
				fireTime = 0;

				enemyBullets = [];
				lives = 3;

				score = 0;
				wave = 1;
				specialAliensShot = 0;
				totalAliensShot = 0;
				totalBulletsShot = 0;

				specialAlien = false;

				initAliens();
			}
			initialize();

			function updateBullets() {
				bullets.forEach((bullet) => {
					bullet.y -= 5;
				});

				bullets = bullets.filter((bullet) => bullet.y >= 0 && !bullet.dead);
			}

			function updateAlienBullets() {
				enemyBullets.forEach((bullet) => (bullet.y += 5));
				enemyBullets.forEach((bullet) => {
					if (isColliding(bullet, ship) && !bullet.dead) {
						bullet.dead = true;
						ship.deathTime = Date.now();
						lives--;
						score -= 150;
						ship.x = 450;
						ship.y = 550;
						if (lives <= 0) {
							gameState = "over";
							updateRecords();
						}
					}
				});
				enemyBullets = enemyBullets.filter(
					(bullet) => bullet.y <= canvas.height && !bullet.dead
				);
			}

			function maybeAlienFire() {
				const now = Date.now();
				aliens.forEach((alienShooter) => {
					if (now - alienShooter.lastFireTime > alienShooter.cooldown) {
						alienShooter.lastFireTime = now;
						alienShooter.cooldown = Math.random() * alienFireRate;
						enemyBullets.push({
							x: alienShooter.x + alienShooter.width / 2 - 2,
							y: alienShooter.y + alienShooter.height,
							width: 4,
							height: 10,
							dead: false
						});
					}
				});
			}

			function initAliens() {
				for (let i = 0; i < 9; i++) {
					for (let j = 0; j < 1; j++) {
						aliens.push({
							x: 84 + i * 100,
							y: 100 + j * 50,
							speedX: alienSpeed,
							width: 36,
							height: 36,
							dead: false,
							type: 3,
							lastFireTime: Date.now(),
							cooldown: Math.random() * alienFireRate
						});
					}
					for (let j = 1; j < 3; j++) {
						aliens.push({
							x: 75 + i * 100,
							y: 100 + j * 50,
							speedX: alienSpeed,
							width: 54,
							height: 36,
							dead: false,
							type: 2,
							lastFireTime: Date.now(),
							cooldown: Math.random() * alienFireRate
						});
					}
					for (let j = 3; j < 5; j++) {
						aliens.push({
							x: 75 + i * 100,
							y: 100 + j * 50,
							speedX: alienSpeed,
							width: 54,
							height: 36,
							dead: false,
							type: 1,
							lastFireTime: Date.now(),
							cooldown: Math.random() * alienFireRate
						});
					}
				}
			}

			function updateAliens() {
				if (aliens.length === 0 || aliens.length === 1 && specialAlien) {
					wave++;
					score += 750;
					alienFireRate = alienFireRate >= 20000 ? 0.9 * alienFireRate : 0.975 * alienFireRate;
					alienSpeed = alienSpeed < 1.5 ? 1.05 * alienSpeed : 1.01 * alienSpeed;
					// console.log(alienFireRate);
					initAliens();
				}

				let reverse = false;
				aliens.forEach((alien) => {
					alien.x += alien.speedX;
					if (alien.type !== 4 && (alien.x + alien.width >= canvas.width || alien.x <= 0)) {
						reverse = true;
						// console.log(alien.type);
					}
					if (alien.type === 4 && alien.x >= canvas.width) {
						alien.dead = true;
						specialAlien = false;
					}
					if (alien.y + alien.height >= ship.y - 15) {
						gameState = "over";
						updateRecords();
					}
				});
				if (reverse) {
					aliens.forEach((alien) => {
						if (alien.type !== 4) {
							alien.speedX = -alien.speedX;
							alien.y += 10;
						}
					});
				}
			}

			function resetAlienLastFireTime() {
				aliens = aliens.map((alien) => {
					alien.lastFireTime = Date.now() - alien.cooldown / 2;
					return alien;
				});
			}

			function updateShip() {
				if (leftMoving) {
					ship.x -= 2.5;
				}
				if (rightMoving) {
					ship.x += 2.5;
				}

				ship.x = Math.max(0, Math.min(ship.x, 1000 - ship.width));
			}

			function checkCollisions() {
				bullets.forEach((bullet) => {
					aliens.forEach((alien) => {
						if (isColliding(bullet, alien)) {
							bullet.dead = true;
							alien.dead = true;
							totalAliensShot++;
							if (alien.type === 1) {
								score += 10;
							} else if (alien.type === 2) {
								score += 20;
							} else if (alien.type === 3) {
								score += 40;
							} else if (alien.type === 4) {
								score += 150;
								specialAlien = false;
								specialAliensShot++;
							}
						}
					});
				});

				aliens = aliens.filter((alien) => !alien.dead);
			}

			function isColliding(rect1, rect2) {
				let r1left = rect1.x;
				let r1right = rect1.x + rect1.width;
				let r1top = rect1.y;
				let r1bottom = rect1.y + rect1.height;
				let r2left = rect2.x;
				let r2right = rect2.x + rect2.width;
				let r2top = rect2.y;
				let r2bottom = rect2.y + rect2.height;

				if (r1top >= r2bottom || r1bottom <= r2top) {
					return false;
				}
				if (r1right <= r2left || r1left >= r2right) {
					return false;
				}
				return true;
			}

			function spawnSpecialAlien() {
				if (!specialAlien) { // one currently exists
					if (lastSpecialAlienSpawn + specialAlienCooldown <= Date.now()) {
						aliens.push({
							x: -120,
							y: 50,
							speedX: alienSpeed * 1.75,
							width: 72,
							height: 23.625,
							dead: false,
							type: 4,
							lastFireTime: Date.now(),
							cooldown: Number.MAX_SAFE_INTEGER
						});
						specialAlien = true;
						lastSpecialAlienSpawn = Date.now();
						specialAlienCooldown = Math.floor(Math.random() * 20000) + 20000; // update cooldown for next time
					}
				}
			}

			function updateRecords() {
				// console.log("Update records");
				if (score > highScores[0]) {
					highScores[2] = highScores[1];
					highScores[1] = highScores[0];
					highScores[0] = score;
				} else if (score > highScores[1]) {
					highScores[2] = highScores[1];
					highScores[1] = score;
				} else if (score > highScores[2]) {
					highScores[2] = score;
				}
				if (wave > maxWave) {
					maxWave = wave;
				}
				if (specialAliensShot > maxSpecialAliensShot) {
					maxSpecialAliensShot = specialAliensShot;
				}
				let accuracy = Math.floor(totalAliensShot / totalBulletsShot * 100)
				if (score >= 3200 && accuracy > maxAccuracy) {
					maxAccuracy = accuracy;
				}
				database = {
					"high_scores": highScores,
					"max_wave": maxWave,
					"max_special_aliens_shot": maxSpecialAliensShot,
					"max_accuracy": maxAccuracy
				};
				updateData(database);
				// console.log("Updated records.")
			}

			function drawGameInformation() {
				ctx.font = "24px Monospace";
				ctx.textAlign = "center";

				// Draw leaderboard section box
				ctx.lineWidth = 2;
				ctx.strokeStyle = "white";
				ctx.strokeRect(550, 275, 375, 275);

				// Draw underlined "LEADERBOARD"
				ctx.fillText("LEADERBOARD", 737.5, 310);
				ctx.lineWidth = 3;
				ctx.beginPath();
				ctx.moveTo(655, 315);
				ctx.lineTo(820, 315);
				ctx.stroke();
				ctx.closePath();

				// Draw record labels
				ctx.textAlign = "left";
				const spacing = 36;
				ctx.fillText("#1 Score: ", 570, 350);
				ctx.fillText("#2 Score: ", 570, 350 + spacing * 1);
				ctx.fillText("#3 Score: ", 570, 350 + spacing * 2);
				ctx.fillText("Highest Wave: ", 570, 350 + spacing * 3);
				ctx.fillText("Most UFOs shot: ", 570, 350 + spacing * 4);
				ctx.fillText("Highest Accuracy: ", 570, 350 + spacing * 5);

				ctx.textAlign = "right";
				if (dataLoaded) {
					ctx.fillText(highScores[0], 905, 350);
					ctx.fillText(highScores[1], 905, 350 + spacing * 1);
					ctx.fillText(highScores[2], 905, 350 + spacing * 2);
					ctx.fillText(maxWave, 905, 350 + spacing * 3);
					ctx.fillText(maxSpecialAliensShot, 905, 350 + spacing * 4);
					ctx.fillText(`${maxAccuracy}%`, 905, 350 + spacing * 5);
				} else {
					ctx.fillText("...", 905, 350);
					ctx.fillText("...", 905, 350 + spacing * 1);
					ctx.fillText("...", 905, 350 + spacing * 2);
					ctx.fillText("...", 905, 350 + spacing * 3);
					ctx.fillText("...", 905, 350 + spacing * 4);
					ctx.fillText("...", 905, 350 + spacing * 5);
				}

				// Draw alien score section box
				ctx.lineWidth = 2;
				ctx.strokeStyle = "white";
				ctx.strokeRect(75, 275, 375, 275);

				ctx.drawImage(alienImg1, 110, 300, 54, 36);
				ctx.drawImage(alienImg2, 110, 365, 54, 36);
				ctx.drawImage(alienImg3, 119, 430, 36, 36);
				ctx.drawImage(alienImg4, 101, 495, 72, 23.625);

				ctx.font = "36px Monospace";
				ctx.textAlign = "left";
				ctx.fillText("= 10 PTS", 220, 325);
				ctx.fillText("= 20 PTS", 220, 390);
				ctx.fillText("= 40 PTS", 220, 455);
				ctx.fillText("= 150 PTS", 220, 520);
			}

			function drawInfo() {
				ctx.fillStyle = "white";
				ctx.font = "20px Arial";
				ctx.textAlign = "left";
				ctx.fillText(`Score: ${score}`, 15, 30);
				ctx.textAlign = "right";
				ctx.fillText(`Lives: ${lives}`, canvas.width - 15, 30);
				ctx.font = "25px Arial";
				ctx.textAlign = "center";
				ctx.fillText(`Wave ${wave}`, canvas.width / 2, 32.5);
			}

			function drawStartScreen() {
				ctx.fillStyle = "white";
				ctx.font = "48px Monospace";
				ctx.textAlign = "center";
				ctx.fillText("SPACE INVADERS", canvas.width / 2, 100);
				ctx.font = "24px Monospace";
				ctx.fillText("PRESS ENTER TO START", canvas.width / 2, 150);

				drawGameInformation();
			}

			function drawPauseScreen() {
				ctx.fillStyle = "rgba(0,0,0,0.5)";
				ctx.fillRect(0, 0, canvas.width, canvas.height);
				ctx.fillStyle = "white";
				ctx.textAlign = "center";
				ctx.font = "50px Monospace";
				ctx.fillText("PAUSED", canvas.width / 2, 275);
				ctx.font = "20Px Monospace";
				ctx.fillText("PRESS ESC OR P TO RESUME", canvas.width / 2, 350);
			}

			function drawGameOver() {
				ctx.fillStyle = "white";
				ctx.font = "48px Monospace";
				ctx.textAlign = "center";
				ctx.fillText("GAME OVER", canvas.width / 2, 100);
				ctx.font = "24px Monospace";
				ctx.fillText("PRESS ENTER TO RESTART", canvas.width / 2, 250);

				ctx.textAlign = "left";
				ctx.fillText(`Final Score: ${score}`, canvas.width / 2 - 125, 150);
				ctx.fillText(`Accuracy:    ${Math.floor(totalAliensShot / totalBulletsShot * 100)}%`, canvas.width / 2 - 125, 175);
				ctx.fillText(`UFOs shot:   ${specialAliensShot}`, canvas.width / 2 - 125, 200);  

				drawGameInformation();
			}

			function drawEntities() {

				// aliens
				ctx.fillStyle = "white";
				aliens.forEach((a) => {
					switch (a.type) {
						case 1:
							ctx.drawImage(alienImg1, a.x, a.y, a.width, a.height);
							break;
						case 2:
							ctx.drawImage(alienImg2, a.x, a.y, a.width, a.height);
							break;
						case 3:
							ctx.drawImage(alienImg3, a.x, a.y, a.width, a.height);
							break;
						case 4:
							ctx.drawImage(alienImg4, a.x, a.y, a.width, a.height);
							break;
					}
				});

				// player bullets
				ctx.fillStyle = "rgb(121, 251, 83)";
				bullets.forEach((b) => ctx.fillRect(b.x, b.y, b.width, b.height));

				// enemy bullets
				ctx.fillStyle = "red";
				enemyBullets.forEach((b) => ctx.fillRect(b.x, b.y, b.width, b.height));

				// ship
				if (ship.deathTime === 0 || Date.now() - ship.deathTime > 1000) {
					ship.deathTime = 0;
					ctx.fillStyle = "rgb(121, 251, 83)";
					ctx.fillRect(ship.x, ship.y, ship.width, ship.height);
					ctx.fillRect(ship.x + ship.width / 2 - 5, ship.y - 15, 10, 15);
				}

				// Bottom line
				ctx.fillStyle = "black";
				ctx.fillRect(0, 585, canvas.width, 40);
				ctx.fillStyle = "white";
				ctx.fillRect(0, 585, canvas.width, 2);
			}

			function drawReload() {
				let timeSinceFire = Date.now() - fireTime;

				if (timeSinceFire > fireRate) {
					ctx.beginPath();
					ctx.arc(950, 605, 12, 0, 2 * Math.PI);
					ctx.closePath();
					ctx.fillStyle = "rgb(121, 251, 83)";
					ctx.fill();
				} else {
					let ratio = timeSinceFire / fireRate;
					ctx.beginPath();
					ctx.arc(950, 605, 10, 0, 2 * Math.PI * ratio);
					ctx.lineTo(950, 605);
					ctx.lineTo(960, 605);
					ctx.closePath();
					ctx.strokeStyle = "rgb(121, 251, 83)"
					ctx.lineWidth = 4;
					ctx.stroke();

					ctx.beginPath();
					ctx.arc(950, 605, 10, 0, 2 * Math.PI);
					ctx.closePath();
					ctx.fillStyle = "rgb(60, 125, 40)";
					ctx.fill();
				}
			}

			function drawLives() {
				for (let i = 0; i < lives - 1; i++) {
					ctx.fillStyle = "rgb(121, 251, 83)";
					ctx.fillRect(25 + (ship.width / 2 + 25) * i, 600, ship.width / 2, ship.height / 2);
					ctx.fillRect(25 + (ship.width / 2 + 25) * i + ship.width / 4 - 2.5, 592.5, 5, 7.5);
				}
			}

			function animate() {
				// console.log(`Score: ${score}\nWave: ${wave}\nSpecial Aliens Shot: ${specialAliensShot}\nTotal Aliens Shot: ${totalAliensShot}\nTotal Bullets Shot: ${totalBulletsShot}`);
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				ctx.fillStyle = "black";
				ctx.fillRect(0, 0, canvas.width, canvas.height);

				if (gameState === "start") {
					drawStartScreen();
					requestAnimationFrame(animate);
					return;
				}

				if (gameState === "over") {
					drawGameOver();
					requestAnimationFrame(animate);
					return;
				}

				if (gameState === "paused") {
					drawEntities();
					drawInfo();
					drawReload();
					drawLives();
					drawPauseScreen();
					resetAlienLastFireTime(); // to prevent all of them from shooting when unpaused
					requestAnimationFrame(animate);
					return;
				}

				// playing
				checkCollisions();
				updateAliens();
				updateBullets();
				maybeAlienFire();
				updateAlienBullets();
				updateShip();
				spawnSpecialAlien();

				drawEntities();
				drawInfo();
				drawReload();
				drawLives();

				requestAnimationFrame(animate);
			}
			animate();

			// Event Listeners
			document.addEventListener("keydown", (e) => {
				if (e.key === " ") {
					e.preventDefault(); // prevent scrolling
				}
				
				if (e.key === "Enter") {
					if (gameState === "start") {
						initialize();
						gameState = "playing";
					} else if (gameState === "over") {
						initialize();
						gameState = "playing";
					}
				}
				if ((e.key === "p" || e.key === "P" || e.key === "Escape") && gameState === "playing") {
					gameState = "paused";
				} else if ((e.key === "p" || e.key === "P" || e.key === "Escape") && gameState === "paused") {
					gameState = "playing";
				}

				if (gameState !== "playing") return;

				if (e.key === " " && Date.now() - fireTime > fireRate) {
					totalBulletsShot++;
					fireTime = Date.now();
					bullets.push({
						x: ship.x + ship.width / 2 - 1,
						y: ship.y - 15,
						width: 2,
						height: 12,
						dead: false
					});
				}
				if (e.key === "ArrowLeft") {
					leftMoving = true;
				}
				if (e.key === "ArrowRight") {
					rightMoving = true;
				}
			});

			document.addEventListener("keyup", (e) => {
				if (e.key === "ArrowLeft") {
					leftMoving = false;
				}
				if (e.key === "ArrowRight") {
					rightMoving = false;
				}
			});

			const base = "https://api.jsonbin.io/v3/b/";
			const id = "685c0a9b8561e97a502b9bf0";
			const key = "$2a$10$qoUUup4Q1rqAh6fX5Lxa0e0RCxjiKW7GREpe5xVcFpWxhUN51g27K";

			async function getData() {
				// console.log("Fetching data...")
				const response = await fetch(base + id, {
					method: "GET",
					headers: {
						"X-Master-Key": key
					}
				});
				const data = await response.json();
				// console.log("Data fetched.")
				return data.record;
			}

			getData().then((r) => {
				highScores = r.high_scores;
				maxWave = r.max_wave;
				maxSpecialAliensShot = r.max_special_aliens_shot;
				maxAccuracy = r.max_accuracy;
				dataLoaded = true;
			});

			async function updateData(updated) {
				// console.log("Updating database...")
				await fetch(base + id, {
					method: "PUT",
					headers: {
						"Content-Type": "application/json",
						"X-Master-Key": key
					},
					body: JSON.stringify(updated)
				});
				// console.log("Updated database.");
			}
		</script>
		
		<script>
			$(document).ready(function($) {
				$.get("navbar.html", function(data) {
					$("#navbar").replaceWith(data);
				});
			});
		</script>
		
		<!--Bootstrap javascript-->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	</body>
</html>